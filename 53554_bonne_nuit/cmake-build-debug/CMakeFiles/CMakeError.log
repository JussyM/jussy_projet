Performing C++ SOURCE FILE Test HAVE_STDATOMIC failed with the following output:
Change Dir: /home/jj/53554_bonne_nuit/cmake-build-debug/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/gmake -f Makefile cmTC_917a4/fast && /usr/bin/gmake  -f CMakeFiles/cmTC_917a4.dir/build.make CMakeFiles/cmTC_917a4.dir/build
gmake[1]: Entering directory '/home/jj/53554_bonne_nuit/cmake-build-debug/CMakeFiles/CMakeTmp'
Building CXX object CMakeFiles/cmTC_917a4.dir/src.cxx.o
/usr/bin/c++ -DHAVE_STDATOMIC  -Wa,-mbig-obj  -std=gnu++17 -o CMakeFiles/cmTC_917a4.dir/src.cxx.o -c /home/jj/53554_bonne_nuit/cmake-build-debug/CMakeFiles/CMakeTmp/src.cxx
as: unrecognized option '-mbig-obj'
gmake[1]: *** [CMakeFiles/cmTC_917a4.dir/build.make:78: CMakeFiles/cmTC_917a4.dir/src.cxx.o] Error 1
gmake[1]: Leaving directory '/home/jj/53554_bonne_nuit/cmake-build-debug/CMakeFiles/CMakeTmp'
gmake: *** [Makefile:127: cmTC_917a4/fast] Error 2


Source file was:
#include <atomic>
#include <cstdint>

void test(volatile std::atomic<std::int64_t> &a)
{
    std::int64_t v = a.load(std::memory_order_acquire);
    while (!a.compare_exchange_strong(v, v + 1,
                                      std::memory_order_acq_rel,
                                      std::memory_order_acquire)) {
        v = a.exchange(v - 1);
    }
    a.store(v + 1, std::memory_order_release);
}

int main(int, char **)
{
    void *ptr = (void*)0xffffffc0; // any random pointer
    test(*reinterpret_cast<std::atomic<std::int64_t> *>(ptr));
    return 0;
}
Performing C++ SOURCE FILE Test HAVE_STDATOMIC_WITH_LIB failed with the following output:
Change Dir: /home/jj/53554_bonne_nuit/cmake-build-debug/CMakeFiles/CMakeTmp

Run Build Command(s):/usr/bin/gmake -f Makefile cmTC_4e1c5/fast && /usr/bin/gmake  -f CMakeFiles/cmTC_4e1c5.dir/build.make CMakeFiles/cmTC_4e1c5.dir/build
gmake[1]: Entering directory '/home/jj/53554_bonne_nuit/cmake-build-debug/CMakeFiles/CMakeTmp'
Building CXX object CMakeFiles/cmTC_4e1c5.dir/src.cxx.o
/usr/bin/c++ -DHAVE_STDATOMIC_WITH_LIB  -Wa,-mbig-obj  -std=gnu++17 -o CMakeFiles/cmTC_4e1c5.dir/src.cxx.o -c /home/jj/53554_bonne_nuit/cmake-build-debug/CMakeFiles/CMakeTmp/src.cxx
as: unrecognized option '-mbig-obj'
gmake[1]: *** [CMakeFiles/cmTC_4e1c5.dir/build.make:78: CMakeFiles/cmTC_4e1c5.dir/src.cxx.o] Error 1
gmake[1]: Leaving directory '/home/jj/53554_bonne_nuit/cmake-build-debug/CMakeFiles/CMakeTmp'
gmake: *** [Makefile:127: cmTC_4e1c5/fast] Error 2


Source file was:
#include <atomic>
#include <cstdint>

void test(volatile std::atomic<std::int64_t> &a)
{
    std::int64_t v = a.load(std::memory_order_acquire);
    while (!a.compare_exchange_strong(v, v + 1,
                                      std::memory_order_acq_rel,
                                      std::memory_order_acquire)) {
        v = a.exchange(v - 1);
    }
    a.store(v + 1, std::memory_order_release);
}

int main(int, char **)
{
    void *ptr = (void*)0xffffffc0; // any random pointer
    test(*reinterpret_cast<std::atomic<std::int64_t> *>(ptr));
    return 0;
}
